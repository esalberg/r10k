:cachedir: <%= @cachedir %>
<% unless @r10k_sources.empty? -%>
:sources:
<% @source_keys.sort.each do |source| -%>
  <%=source-%>:
<% @r10k_sources[source].sort.each do |key,value| -%>
    <%=key-%>: <%=value%>
<% end -%>
<% end -%>
<% end %>
<%# The Array boxing/flattening ensures we don't get bitten by bug #15813 -%>
<% unless [@purgedirs].flatten.empty? -%>
:purgedirs:
<%= [@purgedirs].flatten.to_yaml.split("\n")[1..-1].join("\n") %>
<% end -%>
git:
  provider: <% @git_provider %>
<% if @git_provider='rugged' %>
  private_key: <%= @git_private_key %>
  username: <%= @git_username %>
<% end %>
